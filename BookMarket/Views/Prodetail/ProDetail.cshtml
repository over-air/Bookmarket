@model ViewModels.ProDetails
@{
    ViewBag.Title = "商品详情";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div>
    <div class="row">
        <div class="col-md-6 col-lg-5">
            <div style="height: 450px;">
                @Html.Action("PartialImgs","Common",new{Model.Product.Id})
            </div>
        </div>
        <div class="col-md-6 col-lg-7">
            <div style="height: 450px;">
                
                <p>@Model.Product.Name</p>
                <p>@Model.Product.Description</p>
                <p>库存数量：@Model.RankList.Sumcount</p>
                <p>定价：@Model.Product.Valuation</p>
                <p>价格：@Model.Product.Cost</p>
                <p>种类：
                @foreach (var rank in Model.RankList.ProRanks)
                {
                    <span>
                        类别：@rank.Rank,价格：@rank.Price,库存：@rank.Count
                    </span>
                }
                </p>
                <span></span>
                <input type="button" class="btn btn-primary" value="直接购买"/>
                <input type="button" class="btn btn-primary" value="加入购物车" onclick="OrderInsert();" />
            </div>
            @*<div style="height: 300px;background-color: green;"></div>*@
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12">
            
        </div>
    </div>
</div>



<script type="text/javascript">
    //直接购买
    function SubmitOrder() {
        
    }

    //加入购物车
    function OrderInsert() {
        var orderinfo = {
            //Count:1,
            //OrderId:1,
            //ProductId:1,
            //Status:1,
            //UserId:1
        };
        jQuery.ajax({
            type: "post",
            url:'@Url.Action("AddOrder","Prodetail")',
            data: orderinfo,
            dataType: "json",
            success:function(data) {
                if (data <= 0) alert("操作失败！");
            }
        });
    }
</script>

